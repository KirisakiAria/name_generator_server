(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9f58476"],{"2ced":function(a,e,t){"use strict";var r=t("963c"),o=t.n(r);o.a},"963c":function(a,e,t){},a55b:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("section",{staticClass:"login",on:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.login(e)}}},[t("section",{staticClass:"form"},[t("h4",[a._v("用户登录")]),t("el-form",{ref:"form",attrs:{"label-width":"65px",model:a.formData,rules:a.rules}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{model:{value:a.formData.username,callback:function(e){a.$set(a.formData,"username",e)},expression:"formData.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:a.formData.password,callback:function(e){a.$set(a.formData,"password",e)},expression:"formData.password"}})],1),t("el-form-item",{attrs:{label:"暗号",prop:"authCode"}},[t("el-input",{attrs:{type:"password"},model:{value:a.formData.authCode,callback:function(e){a.$set(a.formData,"authCode",e)},expression:"formData.authCode"}})],1),t("el-form-item",{attrs:{"label-width":"0"}},[t("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:a.login}},[a._v("登录")])],1)],1)],1)])},o=[],s=(t("ac1f"),t("5319"),t("e09c")),n={name:"Login",mixins:[s["a"]],data:function(){return{formData:{username:"",password:"",authCode:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],authCode:[{required:!0,message:"请输入暗号",trigger:"blur"}]}}},methods:{login:function(){var a=this;this.$refs.form.validate((function(e){if(!e)return!1;a.$post(a.API.login,{username:a.formData.username,password:a.formData.password,authCode:a.formData.authCode}).then((function(e){"1000"==e.data.code&&(localStorage.setItem("token",e.data.data.token),localStorage.setItem("uid",e.data.data.uid),localStorage.setItem("avatar",e.data.data.avatar),localStorage.setItem("username",e.data.data.username),a.$axios.defaults.headers.common["Authorization"]=e.data.data.token,a.$store.commit("user/changeUserData",{uid:e.data.data.uid,avatar:e.data.data.avatar,username:e.data.data.username}),a.$router.replace("/"))}))}))}}},u=n,l=(t("2ced"),t("2877")),i=Object(l["a"])(u,r,o,!1,null,"f15668e0",null);e["default"]=i.exports}}]);
//# sourceMappingURL=chunk-d9f58476.1a50debb.js.map