(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208897"],{a4e3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"table-page"},[a("section",{staticClass:"top-area"},[a("div",{staticClass:"form"},[a("el-input",{attrs:{placeholder:"请输入要搜索的手机号"},model:{value:e.form.searchContent,callback:function(t){e.$set(e.form,"searchContent",t)},expression:"form.searchContent"}}),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getData}},[e._v(" 搜索 ")])],1)]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"tel",label:"手机号"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"email",label:"联系邮箱"}}),a("el-table-column",{attrs:{prop:"time",label:"反馈时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.time(t.row.time))+" ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-document",circle:""},on:{click:function(a){return e.checkItem(t.row)}}}),a("el-popconfirm",{staticClass:"pop-confirm",attrs:{confirmButtonText:"好的",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"确定删除吗？"},on:{onConfirm:function(a){return e.deleteItem(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",circle:""},slot:"reference"})],1)]}}])})],1),a("section",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.getData}})],1),e.dialogVisible?a("el-dialog",{attrs:{title:"详情",visible:e.dialogVisible,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("FeedbackDetails",{attrs:{item:e.selectedItem}})],1):e._e()],1)},r=[],i=(a("99af"),a("96cf"),a("1da1")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"details-page"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("手机号："+e._s(e.item.tel))]),a("el-col",{attrs:{span:12}},[e._v("用户名："+e._s(e.item.username))])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("邮箱："+e._s(e.item.email))]),a("el-col",{attrs:{span:12}},[e._v("反馈时间："+e._s(e.time(e.item.time)))])],1),a("el-row",[a("el-col",{attrs:{span:24}},[e._v("反馈信息："+e._s(e.item.content))])],1)],1)},c=[],l=a("e09c"),s={name:"FeedbackDetails",mixins:[l["a"]],props:{item:{type:Object}}},u=s,p=a("2877"),m=Object(p["a"])(u,o,c,!1,null,null,null),d=m.exports,f={name:"FeedbackList",mixins:[l["a"]],data:function(){return{dialogVisible:!1,selectedItem:null,form:{date:"",searchContent:""},pageSize:15,currentPage:1,total:0,tableData:[]}},components:{FeedbackDetails:d},computed:{pickerOptions:function(){return{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{checkItem:function(e){this.dialogVisible=!0,this.selectedItem=e},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$delete("".concat(t.API.feedback,"/").concat(e._id));case 2:n=a.sent,"1000"==n.data.code&&(t.$message({showClose:!0,message:n.data.message,type:"success"}),t.getData());case 4:case"end":return a.stop()}}),a)})))()},getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get(e.API.feedback,{params:{startTime:e.form.date[0],endTime:e.form.date[1],searchContent:e.form.searchContent,pageSize:e.pageSize,currentPage:e.currentPage-1}});case 2:a=t.sent,"1000"==a.data.code&&(e.tableData=a.data.data.list,e.total=a.data.data.total);case 4:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1}},created:function(){this.getData()}},g=f,b=Object(p["a"])(g,n,r,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d208897.49dd99e5.js.map